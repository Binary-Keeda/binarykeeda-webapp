import{j as e,a as y,C as f,o as N,r as g}from"./index-CNpws_Dw.js";import{a as S,b as C}from"./Sidebar--QCfxvrY.js";import{d as k}from"./index-wiRFBPDB.js";import{C as r}from"./Chip-nDkIn63S.js";import{c as L}from"./createSvgIcon-CgMLO1_0.js";import"./Box-C52u4QgS.js";import"./createSimplePaletteValueFilter-NeSqFBfU.js";import"./Portal-B8S_HofV.js";import"./Tooltip-6s-HtBt0.js";import"./index-DfkqJUtY.js";import"./CircularProgress-DhIFBrEd.js";import"./Menu-DZQetVIU.js";import"./Modal-Cv3tRc6D.js";import"./Popper-BzpN8-7z.js";import"./IconButton-dIR0ULbH.js";import"./Avatar-CIJs87D4.js";import"./MenuItem-DXNNrk_R.js";import"./dividerClasses-_gd5eZ4X.js";import"./ShortText-WYxBY5V0.js";const T=L(e.jsx("path",{d:"M8 5v14l11-7z"}),"PlayArrow");function R({src:a,setStdin:i,stdin:l,lang:p,languages:m,changeSrc:o,changeLanguage:h}){const u=t=>{h(t.target.value)};return e.jsxs("section",{className:`flex-1 dark:bg-[${S}] flex flex-col m-3 p-5 pl-0 mr-1 bg-white shadow-md h-[calc(100vh-100px)] rounded-2xl`,children:[e.jsx("div",{className:"flex-[0.9]",children:e.jsx(k,{options:{minimap:{enabled:!1},theme:"vs-light",scrollBeyondLastLine:!1,lineNumbers:"on"},onChange:t=>o(t),className:"custom-scrollbar",language:`${p.language}`})}),e.jsxs("div",{className:"flex py-3 flex-[0.3] flex-col px-6",children:[e.jsxs("div",{className:"h-[30px] flex justify-between items-center",children:[e.jsx("h1",{className:"text-gray-700",children:"Custom Input"}),e.jsx("select",{name:"languae",onChange:u,className:"border",children:m.map((t,c)=>e.jsx("option",{onChange:u,value:c,children:t.language},c))})]}),e.jsx("textarea",{className:"border p-1",value:l,onChange:t=>{i(t.target.value)},rows:5})]})]})}function A({stdin:a,setStdin:i,setStatus:l,status:p,output:m,setOutput:o,src:h,lang:u}){const t=async()=>{try{const x=(await y.post(`${f}/submissions`,{source_code:h,language_id:u.id,stdin:a,expected_output:"",cpu_time_limit:5,memory_limit:128e3},{headers:N})).data.token;c(x)}catch(n){console.log(n)}},c=async n=>{l("queued");for(let x=0;x<10;x++)try{l("executing");const s=(await y.get(`${f}/submissions/${n}`,{headers:N})).data;if(s.status&&s.status.id===3||s.status&&s.status.id==4){l("completed"),o(s.stdout);return}if(s.status&&s.status.id==11){l("error"),o(s.stdout||s.stderr);return}if(s.status&&s.status.id==6){l("error"),o(s.status.description);return}console.log("Submission still executing, retrying..."),await new Promise(d=>setTimeout(d,2e3))}catch(b){console.error("Error fetching submission result:",b),l("error"),o("Failed to fetch");return}l("timeout"),setSampleTestCaseResult([{error:"Result not ready. Try again later."}])};return e.jsxs("section",{className:`flex-1 m-3 ml-1 dark:bg-[${S}] dark:text-gray-200 bg-white shadow-md h-[calc(100vh-100px)] rounded-2xl`,children:[e.jsxs("div",{className:"flex pr-5 justify-between ",children:[e.jsxs("div",{className:"flex p-2 items-center border-transparet",children:[e.jsx(v,{callback:t,title:"Run"}),e.jsx(j,{}),e.jsx(v,{title:"Output"})]}),e.jsx("div",{className:"flex p-2 items-center border-transparet",children:e.jsx("div",{className:"text-sm text-slate-600",children:_(p)})})]}),e.jsx("div",{className:"p-6",children:m?e.jsx(w,{output:m}):e.jsx(w,{output:"Please write the code"})}),e.jsxs("div",{className:"flex text-inherit flex-wrap px-5 gap-2",children:[e.jsx(r,{color:"primary",className:"cursor-pointer",label:"Array"}),e.jsx(r,{color:"primary",className:"cursor-pointer",label:"Linked List"}),e.jsx(r,{color:"primary",className:"cursor-pointer",label:"Doubly Linked List"}),e.jsx(r,{color:"primary",className:"cursor-pointer",label:"Circular Linked List"}),e.jsx(r,{color:"primary",className:"cursor-pointer",label:"Stack"}),e.jsx(r,{color:"primary",className:"cursor-pointer",label:"Queue"}),e.jsx(r,{color:"primary",className:"cursor-pointer",label:"Deque"}),e.jsx(r,{color:"primary",className:"cursor-pointer",label:"Priority Queue"}),e.jsx(r,{color:"primary",className:"cursor-pointer",label:"Heap"}),e.jsx(r,{color:"primary",className:"cursor-pointer",label:"Trie"}),e.jsx(r,{color:"primary",className:"cursor-pointer",label:"Hash Table / Hash Map"}),e.jsx(r,{color:"primary",className:"cursor-pointer",label:"Set"}),e.jsx(r,{color:"primary",className:"cursor-pointer",label:"Binary Tree"}),e.jsx(r,{color:"primary",className:"cursor-pointer",label:"Binary Search Tree"}),e.jsx(r,{color:"primary",className:"cursor-pointer",label:"AVL Tree"}),e.jsx(r,{color:"primary",className:"cursor-pointer",label:"Red-Black Tree"}),e.jsx(r,{color:"primary",className:"cursor-pointer",label:"Segment Tree"}),e.jsx(r,{color:"primary",className:"cursor-pointer",label:"Fenwick Tree (BIT)"}),e.jsx(r,{color:"primary",className:"cursor-pointer",label:"Graph (Adjacency List)"}),e.jsx(r,{color:"primary",className:"cursor-pointer",label:"Graph (Adjacency Matrix)"}),e.jsx(r,{color:"primary",className:"cursor-pointer",label:"Disjoint Set (Union-Find)"}),e.jsx(r,{color:"primary",className:"cursor-pointer",label:"Suffix Tree / Suffix Array"}),e.jsx(r,{color:"primary",className:"cursor-pointer",label:"K-D Tree"})]})]})}const j=()=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-4 h-4 ml-1.5",children:e.jsx("path",{fillRule:"evenodd",d:"M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z",clipRule:"evenodd"})}),v=({title:a,callback:i})=>e.jsx("button",{onClick:i,className:"flex dark:text-gray-200 items-center rounded-md  py-2 px-4 text-center text-sm transition-all  hover:shadow-lg text-slate-600 hover:text-white hover:bg-slate-800 hover:border-slate-800 focus:text-white focus:bg-slate-800 focus:border-slate-800 active:border-slate-800 active:text-white active:bg-slate-800 disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none",type:"button",children:a});function _(a){switch(a){case"executing":return e.jsxs("div",{className:"bg-orange-400 text-white p-2 rounded-md text-xs flex",children:[e.jsx(j,{}),"In Progress"]});case"completed":return e.jsxs("div",{className:"bg-green-400 text-white p-2 rounded-md text-xs flex",children:[e.jsx(j,{}),"Completed"]});case"failed":return e.jsxs("div",{className:"bg-red-400 text-white p-2 rounded-md text-xs flex",children:[e.jsx(j,{}),"Failed"]});case"error":return e.jsxs("div",{className:"bg-red-400 text-white p-2 rounded-md text-xs flex",children:[e.jsx(j,{}),"Failed"]});default:return e.jsxs("div",{className:"bg-gray-400 text-white p-2 rounded-md text-xs items-center gap-2 flex",children:[e.jsx(T,{}),"Not Started"]})}}const w=({output:a})=>e.jsxs("div",{className:"",children:[e.jsx("h2",{className:"text-gray-600 text-sm mb-2",children:"Output"}),e.jsx(k,{height:"48vh",defaultLanguage:"text",value:a,theme:"",options:{readOnly:!0,minimap:{enabled:!1},lineNumbers:"on",scrollBeyondLastLine:!1,wordWrap:"on"}})]});function Z(){const a=[{language:"c",id:50},{language:"cpp",id:54},{language:"java",id:62},{language:"python",id:71}],[i,l]=g.useState(a[0]),[p,m]=g.useState("idle"),[o,h]=g.useState(""),[u,t]=g.useState(),[c,n]=g.useState(""),x=d=>l(a[d]),b=d=>h(d),s=d=>t(d);return e.jsx("div",{className:` dark:bg-[${C}] overflow-y-scroll overflow-x-hidden h-screen`,children:e.jsxs("section",{className:"flex justify-between",children:[e.jsx(R,{stdin:c,setStdin:n,src:o,lang:i,languages:a,changeLanguage:x,changeOutput:s,changeSrc:b}),e.jsx("div",{className:"flex h-[calc(100vh-100px)] cursor-move justify-center items-center",children:e.jsx("div",{className:"hover:bg-sky-700 hover:shadow-sky-500 hover:shadow-md ease-linear duration-300  transition-colors w-[4px] h-[30px] rounded-full bg-gray-500"})}),e.jsx(A,{setStatus:m,stdin:c,setStdin:n,src:o,lang:i,output:u,setOutput:t,status:p})]})})}export{Z as default};

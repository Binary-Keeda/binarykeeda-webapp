import{c as L,j as e,a8 as S,a as y,a9 as f,aa as N,r as g,ab as T}from"./index-C0wR8LFk.js";import{d as k}from"./index-8C4FTgHw.js";import{C as s}from"./Chip-DQgusZQB.js";const C=L(e.jsx("path",{d:"M8 5v14l11-7z"}),"PlayArrow");function R({src:a,setStdin:c,stdin:l,lang:p,languages:u,changeSrc:o,changeLanguage:h}){const x=t=>{h(t.target.value)};return e.jsxs("section",{className:`flex-1 dark:bg-[${S}] flex flex-col m-3 p-5 pl-0 mr-1 bg-white shadow-md h-[calc(100vh-100px)] rounded-2xl`,children:[e.jsx("div",{className:"flex-[0.9]",children:e.jsx(k,{options:{minimap:{enabled:!1},theme:"vs-light",scrollBeyondLastLine:!1,lineNumbers:"on"},onChange:t=>o(t),className:"custom-scrollbar",language:`${p.language}`})}),e.jsxs("div",{className:"flex py-3 flex-[0.3] flex-col px-6",children:[e.jsxs("div",{className:"h-[30px] flex justify-between items-center",children:[e.jsx("h1",{className:"text-gray-700",children:"Custom Input"}),e.jsx("select",{name:"languae",onChange:x,className:"border",children:u.map((t,i)=>e.jsx("option",{onChange:x,value:i,children:t.language},i))})]}),e.jsx("textarea",{className:"border p-1",value:l,onChange:t=>{c(t.target.value)},rows:5})]})]})}function A({stdin:a,setStdin:c,setStatus:l,status:p,output:u,setOutput:o,src:h,lang:x}){const t=async()=>{try{const m=(await y.post(`${f}/submissions`,{source_code:h,language_id:x.id,stdin:a,expected_output:"",cpu_time_limit:5,memory_limit:128e3},{headers:N})).data.token;i(m)}catch(n){console.log(n)}},i=async n=>{l("queued");for(let m=0;m<10;m++)try{l("executing");const r=(await y.get(`${f}/submissions/${n}`,{headers:N})).data;if(r.status&&r.status.id===3||r.status&&r.status.id==4){l("completed"),o(r.stdout);return}if(r.status&&r.status.id==11){l("error"),o(r.stdout||r.stderr);return}if(r.status&&r.status.id==6){l("error"),o(r.status.description);return}console.log("Submission still executing, retrying..."),await new Promise(d=>setTimeout(d,2e3))}catch(b){console.error("Error fetching submission result:",b),l("error"),o("Failed to fetch");return}l("timeout"),setSampleTestCaseResult([{error:"Result not ready. Try again later."}])};return e.jsxs("section",{className:`flex-1 m-3 ml-1 dark:bg-[${S}] dark:text-gray-200 bg-white shadow-md h-[calc(100vh-100px)] rounded-2xl`,children:[e.jsxs("div",{className:"flex pr-5 justify-between ",children:[e.jsxs("div",{className:"flex p-2 items-center border-transparet",children:[e.jsx(v,{callback:t,title:"Run"}),e.jsx(j,{}),e.jsx(v,{title:"Output"})]}),e.jsx("div",{className:"flex p-2 items-center border-transparet",children:e.jsx("div",{className:"text-sm text-slate-600",children:_(p)})})]}),e.jsx("div",{className:"p-6",children:u?e.jsx(w,{output:u}):e.jsx(w,{output:"Please write the code"})}),e.jsxs("div",{className:"flex text-inherit flex-wrap px-5 gap-2",children:[e.jsx(s,{color:"primary",className:"cursor-pointer",label:"Array"}),e.jsx(s,{color:"primary",className:"cursor-pointer",label:"Linked List"}),e.jsx(s,{color:"primary",className:"cursor-pointer",label:"Doubly Linked List"}),e.jsx(s,{color:"primary",className:"cursor-pointer",label:"Circular Linked List"}),e.jsx(s,{color:"primary",className:"cursor-pointer",label:"Stack"}),e.jsx(s,{color:"primary",className:"cursor-pointer",label:"Queue"}),e.jsx(s,{color:"primary",className:"cursor-pointer",label:"Deque"}),e.jsx(s,{color:"primary",className:"cursor-pointer",label:"Priority Queue"}),e.jsx(s,{color:"primary",className:"cursor-pointer",label:"Heap"}),e.jsx(s,{color:"primary",className:"cursor-pointer",label:"Trie"}),e.jsx(s,{color:"primary",className:"cursor-pointer",label:"Hash Table / Hash Map"}),e.jsx(s,{color:"primary",className:"cursor-pointer",label:"Set"}),e.jsx(s,{color:"primary",className:"cursor-pointer",label:"Binary Tree"}),e.jsx(s,{color:"primary",className:"cursor-pointer",label:"Binary Search Tree"}),e.jsx(s,{color:"primary",className:"cursor-pointer",label:"AVL Tree"}),e.jsx(s,{color:"primary",className:"cursor-pointer",label:"Red-Black Tree"}),e.jsx(s,{color:"primary",className:"cursor-pointer",label:"Segment Tree"}),e.jsx(s,{color:"primary",className:"cursor-pointer",label:"Fenwick Tree (BIT)"}),e.jsx(s,{color:"primary",className:"cursor-pointer",label:"Graph (Adjacency List)"}),e.jsx(s,{color:"primary",className:"cursor-pointer",label:"Graph (Adjacency Matrix)"}),e.jsx(s,{color:"primary",className:"cursor-pointer",label:"Disjoint Set (Union-Find)"}),e.jsx(s,{color:"primary",className:"cursor-pointer",label:"Suffix Tree / Suffix Array"}),e.jsx(s,{color:"primary",className:"cursor-pointer",label:"K-D Tree"})]})]})}const j=()=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-4 h-4 ml-1.5",children:e.jsx("path",{fillRule:"evenodd",d:"M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z",clipRule:"evenodd"})}),v=({title:a,callback:c})=>e.jsx("button",{onClick:c,className:"flex dark:text-gray-200 items-center rounded-md  py-2 px-4 text-center text-sm transition-all  hover:shadow-lg text-slate-600 hover:text-white hover:bg-slate-800 hover:border-slate-800 focus:text-white focus:bg-slate-800 focus:border-slate-800 active:border-slate-800 active:text-white active:bg-slate-800 disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none",type:"button",children:a});function _(a){switch(a){case"executing":return e.jsxs("div",{className:"bg-orange-400 text-white p-2 rounded-md text-xs flex",children:[e.jsx(j,{}),"In Progress"]});case"completed":return e.jsxs("div",{className:"bg-green-400 text-white p-2 rounded-md text-xs flex",children:[e.jsx(j,{}),"Completed"]});case"failed":return e.jsxs("div",{className:"bg-red-400 text-white p-2 rounded-md text-xs flex",children:[e.jsx(j,{}),"Failed"]});case"error":return e.jsxs("div",{className:"bg-red-400 text-white p-2 rounded-md text-xs flex",children:[e.jsx(j,{}),"Failed"]});default:return e.jsxs("div",{className:"bg-gray-400 text-white p-2 rounded-md text-xs items-center gap-2 flex",children:[e.jsx(C,{}),"Not Started"]})}}const w=({output:a})=>e.jsxs("div",{className:"",children:[e.jsx("h2",{className:"text-gray-600 text-sm mb-2",children:"Output"}),e.jsx(k,{height:"48vh",defaultLanguage:"text",value:a,theme:"",options:{readOnly:!0,minimap:{enabled:!1},lineNumbers:"on",scrollBeyondLastLine:!1,wordWrap:"on"}})]});function E(){const a=[{language:"c",id:50},{language:"cpp",id:54},{language:"java",id:62},{language:"python",id:71}],[c,l]=g.useState(a[0]),[p,u]=g.useState("idle"),[o,h]=g.useState(""),[x,t]=g.useState(),[i,n]=g.useState(""),m=d=>l(a[d]),b=d=>h(d),r=d=>t(d);return e.jsx("div",{className:` dark:bg-[${T}] overflow-y-scroll overflow-x-hidden h-screen`,children:e.jsxs("section",{className:"flex justify-between",children:[e.jsx(R,{stdin:i,setStdin:n,src:o,lang:c,languages:a,changeLanguage:m,changeOutput:r,changeSrc:b}),e.jsx("div",{className:"flex h-[calc(100vh-100px)] cursor-move justify-center items-center",children:e.jsx("div",{className:"hover:bg-sky-700 hover:shadow-sky-500 hover:shadow-md ease-linear duration-300  transition-colors w-[4px] h-[30px] rounded-full bg-gray-500"})}),e.jsx(A,{setStatus:u,stdin:i,setStdin:n,src:o,lang:c,output:x,setOutput:t,status:p})]})})}export{E as default};

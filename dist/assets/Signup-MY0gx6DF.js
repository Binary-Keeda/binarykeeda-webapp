import{b as j,r as s,u as v,e as P,j as e,L as i,f as N,a as S,B as C}from"./index-b2tHD9Pr.js";import{I as L}from"./IconButton-q0-i86Ae.js";import{H as k}from"./Home-F3kV5Ykh.js";import"./DefaultPropsProvider-CDurVPpn.js";import"./extends-CF3RwP-h.js";import"./createSimplePaletteValueFilter-COr2uZoU.js";import"./CircularProgress-BY1vwNiq.js";import"./ButtonBase-DAu797o-.js";import"./objectWithoutPropertiesLoose-Dsqj8S3w.js";import"./useForkRef-B5zYVBaY.js";import"./useEnhancedEffect-SpzInZsn.js";import"./createSvgIcon-D7_Pyzpt.js";const m="bg-[#2f3134] text-xs ease-linear duration-100 hover:bg-[#3d4043] rounded-md w-[310px] text-gray-300 border-[rgb(214 218 227 / 4%)] p-4 font-medium ",U=()=>{const p=j(),[a,u]=s.useState(!1),[h,l]=s.useState(!1),[r,f]=s.useState(""),[c,g]=s.useState(""),[d,w]=s.useState(""),[x,o]=s.useState("");v();const{id:b}=P(),y=async t=>{if(t.preventDefault(),r!==c){o("Passwords don't match ðŸ˜¬");return}try{l(!0);const n=await S.post(`${C}/api/auth/verify`,{password:r},{withCredentials:!0,headers:{Authorization:`Bearer ${decodeURIComponent(b)}`}});w(n.data.message),o(""),p("/login")}catch(n){console.error(n),o("Verification failed. Please try again.")}finally{l(!1)}};return e.jsxs("section",{className:"fixed text-gray-300 flex justify-center items-center flex-col top-0 z-30 bg-[#1d1e20] h-screen w-screen",children:[e.jsx(i,{to:"/",children:e.jsx(L,{color:"inherit",sx:{position:"absolute",top:10,left:10},children:e.jsx(k,{})})}),e.jsx("div",{className:"mb-10 overflow-hidden relative",children:e.jsx("img",{src:N,className:"h-14 rounded-md",alt:"Logo"})}),e.jsxs("form",{onSubmit:y,className:"flex flex-col gap-3 items-center p-4 m-2 w-[310px] transition-all duration-500",children:[e.jsx("input",{placeholder:"Enter Password",type:a?"text":"password",className:m,value:r,onChange:t=>f(t.target.value)}),e.jsx("input",{placeholder:"Confirm Password",type:a?"text":"password",className:m,value:c,onChange:t=>g(t.target.value)}),e.jsxs("label",{className:"w-[310px] ml-1 text-xs gap-2 text-start flex justify-start",children:[e.jsx("input",{checked:a,onChange:t=>u(t.target.checked),id:"showpassword",type:"checkbox"}),"Show Password"]}),x&&e.jsx("p",{className:"text-red-400 text-start w-[306px] text-xs",children:x}),d&&e.jsxs("p",{className:"text-green-400 text-start w-[306px] text-xs",children:[d,e.jsx(i,{to:"/login",className:"ml-1 text-blue-400 hover:underline",children:"Go to login"})]}),e.jsx("button",{type:"submit",className:"bg-[#2f3134] flex justify-center items-center ease-linear duration-100 hover:bg-[#3d4043] rounded-md w-[310px] text-gray-300 border-[rgb(214 218 227 / 4%)] p-4 font-medium text-xs",children:h?e.jsx("div",{className:"border-2 border-white border-t-transparent h-5 w-5 rounded-full animate-spin"}):"Submit"})]}),e.jsx(i,{className:"text-center text-gray-400 fixed bottom-10 px-5 text-xs hover:underline",to:"",children:"By continuing, you agree to Pragyanm Terms of Service and Privacy Policy."})]})};export{U as default};

import{j as e,a as y,C as f,p as N,r as g}from"./index-BtPYo_Tv.js";import{a as S,b as C}from"./Sidebar-DxzCDANe.js";import{d as k}from"./index-DhIvenHZ.js";import{C as r}from"./Chip-sZqI9f6K.js";import{c as L}from"./createSvgIcon-B1TMJeEn.js";import"./Box-BwzxI5DU.js";import"./DefaultPropsProvider-WRP8JLOa.js";import"./extends-CF3RwP-h.js";import"./useTheme-DanmKPhE.js";import"./Tooltip-dW64aXtG.js";import"./index-bufbld3q.js";import"./Portal-DqbkGsz-.js";import"./index-frKn0TPI.js";import"./useForkRef-BT_6Q1MH.js";import"./useEnhancedEffect-CaoMWvCF.js";import"./useSlot-Dy9Id-Ib.js";import"./ButtonBase-Cm_1aAbs.js";import"./objectWithoutPropertiesLoose-Dsqj8S3w.js";import"./createSimplePaletteValueFilter-CtB_ZurQ.js";import"./Menu-DBTfbXTq.js";import"./useSlotProps-D55M5JTX.js";import"./Modal-C13S2QIc.js";import"./CircularProgress-DVy3wU3J.js";import"./Popper-DdT8rCSm.js";import"./IconButton-uVgOSeJw.js";import"./Avatar-By79RNjq.js";import"./MenuItem-Zrbe4-hs.js";import"./dividerClasses-BRzYHdgI.js";import"./ShortText-CBzEe7Sq.js";import"./Home-D5JdqvYr.js";import"./LightMode-DoSGqooB.js";import"./Divider-BDC-QieM.js";import"./School-DWWDYk6n.js";import"./Assessment-DnfOlpss.js";const T=L(e.jsx("path",{d:"M8 5v14l11-7z"}),"PlayArrow");function R({src:t,setStdin:i,stdin:o,lang:x,languages:d,changeSrc:l,changeLanguage:h}){const p=a=>{h(a.target.value)};return e.jsxs("section",{className:`flex-1 dark:bg-[${S}] flex flex-col m-3 p-5 pl-0 mr-1 bg-white shadow-md h-[calc(100vh-100px)] rounded-2xl`,children:[e.jsx("div",{className:"flex-[0.9]",children:e.jsx(k,{options:{minimap:{enabled:!1},theme:"vs-light",scrollBeyondLastLine:!1,lineNumbers:"on"},onChange:a=>l(a),className:"custom-scrollbar",language:`${x.language}`})}),e.jsxs("div",{className:"flex py-3 flex-[0.3] flex-col px-6",children:[e.jsxs("div",{className:"h-[30px] flex justify-between items-center",children:[e.jsx("h1",{className:"text-gray-700",children:"Custom Input"}),e.jsx("select",{name:"languae",onChange:p,className:"border",children:d.map((a,c)=>e.jsx("option",{onChange:p,value:c,children:a.language},c))})]}),e.jsx("textarea",{className:"border p-1",value:o,onChange:a=>{i(a.target.value)},rows:5})]})]})}function A({stdin:t,setStdin:i,setStatus:o,status:x,output:d,setOutput:l,src:h,lang:p}){const a=async()=>{try{const u=(await y.post(`${f}/submissions`,{source_code:h,language_id:p.id,stdin:t,expected_output:"",cpu_time_limit:5,memory_limit:128e3},{headers:N})).data.token;c(u)}catch(n){console.log(n)}},c=async n=>{o("queued");for(let u=0;u<10;u++)try{o("executing");const s=(await y.get(`${f}/submissions/${n}`,{headers:N})).data;if(s.status&&s.status.id===3||s.status&&s.status.id==4){o("completed"),l(s.stdout);return}if(s.status&&s.status.id==11){o("error"),l(s.stdout||s.stderr);return}if(s.status&&s.status.id==6){o("error"),l(s.status.description);return}console.log("Submission still executing, retrying..."),await new Promise(m=>setTimeout(m,2e3))}catch(b){console.error("Error fetching submission result:",b),o("error"),l("Failed to fetch");return}o("timeout"),setSampleTestCaseResult([{error:"Result not ready. Try again later."}])};return e.jsxs("section",{className:`flex-1 m-3 ml-1 dark:bg-[${S}] dark:text-gray-200 bg-white shadow-md h-[calc(100vh-100px)] rounded-2xl`,children:[e.jsxs("div",{className:"flex pr-5 justify-between ",children:[e.jsxs("div",{className:"flex p-2 items-center border-transparet",children:[e.jsx(v,{callback:a,title:"Run"}),e.jsx(j,{}),e.jsx(v,{title:"Output"})]}),e.jsx("div",{className:"flex p-2 items-center border-transparet",children:e.jsx("div",{className:"text-sm text-slate-600",children:_(x)})})]}),e.jsx("div",{className:"p-6",children:d?e.jsx(w,{output:d}):e.jsx(w,{output:"Please write the code"})}),e.jsxs("div",{className:"flex text-inherit flex-wrap px-5 gap-2",children:[e.jsx(r,{color:"primary",className:"cursor-pointer",label:"Array"}),e.jsx(r,{color:"primary",className:"cursor-pointer",label:"Linked List"}),e.jsx(r,{color:"primary",className:"cursor-pointer",label:"Doubly Linked List"}),e.jsx(r,{color:"primary",className:"cursor-pointer",label:"Circular Linked List"}),e.jsx(r,{color:"primary",className:"cursor-pointer",label:"Stack"}),e.jsx(r,{color:"primary",className:"cursor-pointer",label:"Queue"}),e.jsx(r,{color:"primary",className:"cursor-pointer",label:"Deque"}),e.jsx(r,{color:"primary",className:"cursor-pointer",label:"Priority Queue"}),e.jsx(r,{color:"primary",className:"cursor-pointer",label:"Heap"}),e.jsx(r,{color:"primary",className:"cursor-pointer",label:"Trie"}),e.jsx(r,{color:"primary",className:"cursor-pointer",label:"Hash Table / Hash Map"}),e.jsx(r,{color:"primary",className:"cursor-pointer",label:"Set"}),e.jsx(r,{color:"primary",className:"cursor-pointer",label:"Binary Tree"}),e.jsx(r,{color:"primary",className:"cursor-pointer",label:"Binary Search Tree"}),e.jsx(r,{color:"primary",className:"cursor-pointer",label:"AVL Tree"}),e.jsx(r,{color:"primary",className:"cursor-pointer",label:"Red-Black Tree"}),e.jsx(r,{color:"primary",className:"cursor-pointer",label:"Segment Tree"}),e.jsx(r,{color:"primary",className:"cursor-pointer",label:"Fenwick Tree (BIT)"}),e.jsx(r,{color:"primary",className:"cursor-pointer",label:"Graph (Adjacency List)"}),e.jsx(r,{color:"primary",className:"cursor-pointer",label:"Graph (Adjacency Matrix)"}),e.jsx(r,{color:"primary",className:"cursor-pointer",label:"Disjoint Set (Union-Find)"}),e.jsx(r,{color:"primary",className:"cursor-pointer",label:"Suffix Tree / Suffix Array"}),e.jsx(r,{color:"primary",className:"cursor-pointer",label:"K-D Tree"})]})]})}const j=()=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-4 h-4 ml-1.5",children:e.jsx("path",{fillRule:"evenodd",d:"M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z",clipRule:"evenodd"})}),v=({title:t,callback:i})=>e.jsx("button",{onClick:i,className:"flex dark:text-gray-200 items-center rounded-md  py-2 px-4 text-center text-sm transition-all  hover:shadow-lg text-slate-600 hover:text-white hover:bg-slate-800 hover:border-slate-800 focus:text-white focus:bg-slate-800 focus:border-slate-800 active:border-slate-800 active:text-white active:bg-slate-800 disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none",type:"button",children:t});function _(t){switch(t){case"executing":return e.jsxs("div",{className:"bg-orange-400 text-white p-2 rounded-md text-xs flex",children:[e.jsx(j,{}),"In Progress"]});case"completed":return e.jsxs("div",{className:"bg-green-400 text-white p-2 rounded-md text-xs flex",children:[e.jsx(j,{}),"Completed"]});case"failed":return e.jsxs("div",{className:"bg-red-400 text-white p-2 rounded-md text-xs flex",children:[e.jsx(j,{}),"Failed"]});case"error":return e.jsxs("div",{className:"bg-red-400 text-white p-2 rounded-md text-xs flex",children:[e.jsx(j,{}),"Failed"]});default:return e.jsxs("div",{className:"bg-gray-400 text-white p-2 rounded-md text-xs items-center gap-2 flex",children:[e.jsx(T,{}),"Not Started"]})}}const w=({output:t})=>e.jsxs("div",{className:"",children:[e.jsx("h2",{className:"text-gray-600 text-sm mb-2",children:"Output"}),e.jsx(k,{height:"48vh",defaultLanguage:"text",value:t,theme:"",options:{readOnly:!0,minimap:{enabled:!1},lineNumbers:"on",scrollBeyondLastLine:!1,wordWrap:"on"}})]});function pe(){const t=[{language:"c",id:50},{language:"cpp",id:54},{language:"java",id:62},{language:"python",id:71}],[i,o]=g.useState(t[0]),[x,d]=g.useState("idle"),[l,h]=g.useState(""),[p,a]=g.useState(),[c,n]=g.useState(""),u=m=>o(t[m]),b=m=>h(m),s=m=>a(m);return e.jsx("div",{className:` dark:bg-[${C}] overflow-y-scroll overflow-x-hidden h-screen`,children:e.jsxs("section",{className:"flex justify-between",children:[e.jsx(R,{stdin:c,setStdin:n,src:l,lang:i,languages:t,changeLanguage:u,changeOutput:s,changeSrc:b}),e.jsx("div",{className:"flex h-[calc(100vh-100px)] cursor-move justify-center items-center",children:e.jsx("div",{className:"hover:bg-sky-700 hover:shadow-sky-500 hover:shadow-md ease-linear duration-300  transition-colors w-[4px] h-[30px] rounded-full bg-gray-500"})}),e.jsx(A,{setStatus:d,stdin:c,setStdin:n,src:l,lang:i,output:p,setOutput:a,status:x})]})})}export{pe as default};
